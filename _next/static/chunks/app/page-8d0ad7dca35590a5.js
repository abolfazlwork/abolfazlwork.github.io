(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5628:function(t,e,n){Promise.resolve().then(n.bind(n,4522))},4522:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return s}});var r=n(7437),o=n(2265);class i{async loadConfig(){if(this.config)return this.config;try{let t=await fetch(this.configPath);if(!t.ok)throw Error("Please import config.json file");if(this.config=await t.json(),!this.config.link)throw Error("Config file has a problem. Contact support.");return this.config}catch(t){throw Error("An error occurred while loading config: ".concat(t.message))}}checkHostname(t,e){return new URL(t).hostname===e}async fetchData(){try{let t=await this.loadConfig();if(!this.checkHostname(t.link,"192.168.1.4"))throw Error("The link is not valid. Expected host is 192.168.1.4.");let e=await fetch(t.link);if(!e.ok){let t=await e.json();throw Error("Error from the server: ".concat(t.error||e.statusText))}let n=await e.json();if(n.downloadFile){let t=await fetch(n.downloadFile);if(!t.ok){let e=await t.json();throw Error("Error downloading the file: ".concat(e.error||t.statusText))}return await t.json()}return n}catch(t){throw Error("An error occurred while fetching data: ".concat(t.message))}}async openAdminPanel(t,e){try{let n=(await this.loadConfig())[e];if(!n)throw Error("".concat(e," link is missing in config.json. Contact support."));if(!this.checkHostname(n,"192.168.4.1"))throw Error("The ".concat(e," link is not valid. Expected host is 192.168.4.1."));document.getElementById(t).addEventListener("click",()=>{window.open(n,"_blank")})}catch(t){throw Error("An error occurred while opening the admin panel: ".concat(t.message))}}constructor(t="./config.json"){this.configPath=t,this.config=null}}function s(){let[t,e]=(0,o.useState)(null),[n,s]=(0,o.useState)(null);return(0,o.useEffect)(()=>{new i().fetchData().then(t=>{e(t)}).catch(t=>{s(t.message)})},[]),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"bg-green-500",children:"Welcome to the Next.js SDK Example"}),n?(0,r.jsxs)("p",{children:["Error: ",n]}):t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("pre",{children:JSON.stringify(t,null,2)}),(0,r.jsxs)("h1",{children:[" sdf ",t.web.p.about.fullname]}),(0,r.jsx)("div",{className:" w-44 h-44",children:(0,r.jsx)("img",{src:t.web.p.about.profile,alt:"Cropped",className:"  object-cover rounded-full "})}),(0,r.jsx)("img",{href:t.web.p.about.profile})]}):(0,r.jsx)("p",{children:"Loading..."}),(0,r.jsx)("button",{id:"loginBtn",children:"Login to Panel"}),(0,r.jsx)("button",{id:"supportBtn",children:"Support"})]})}}},function(t){t.O(0,[971,23,744],function(){return t(t.s=5628)}),_N_E=t.O()}]);