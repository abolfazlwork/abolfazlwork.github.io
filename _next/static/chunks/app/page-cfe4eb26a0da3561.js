(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5628:function(t,e,r){Promise.resolve().then(r.bind(r,4522))},4522:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return s}});var n=r(7437),o=r(2265);class i{async loadConfig(){if(this.config)return this.config;try{let t=await fetch(this.configPath);if(!t.ok)throw Error("Please import config.json file");if(this.config=await t.json(),!this.config.key)throw Error("Config file has a problem. Contact support.");return this.config}catch(t){throw Error("An error occurred while loading config: ".concat(t.message))}}checkHostname(t,e){return new URL(t).hostname===e}getFetchUrl(t){if(!this.isValidUrl(t))return"".concat(this.baseAPIUrl).concat(t);if(!this.checkHostname(t,"192.168.1.4"))throw Error("The link is not valid. Expected host is 192.168.1.4.");return t}isValidUrl(t){try{return new URL(t),!0}catch(t){return!1}}async fetchData(){try{let t=await this.loadConfig(),e=this.getFetchUrl(t.key),r=await fetch(e);if(!r.ok){let t=await r.json();throw Error("Error from the server: ".concat(t.error||r.statusText))}let n=await r.json();if(n.downloadFile){let t=await fetch(n.downloadFile);if(!t.ok){let e=await t.json();throw Error("Error downloading the file: ".concat(e.error||t.statusText))}return await t.json()}return n}catch(t){throw Error("An error occurred while fetching data: ".concat(t.message))}}async openAdminPanel(t,e){try{let r=(await this.loadConfig())[e];if(!r)throw Error("".concat(e," key is missing in config.json. Contact support."));let n=this.getFetchUrl(r);document.getElementById(t).addEventListener("click",()=>{window.open(n,"_blank")})}catch(t){throw Error("An error occurred while opening the admin panel: ".concat(t.message))}}constructor(t="./config.json"){this.configPath=t,this.config=null,this.baseAPIUrl="http://192.168.1.4:4002/api/v1/web/"}}function s(){let[t,e]=(0,o.useState)(null),[r,s]=(0,o.useState)(null);return(0,o.useEffect)(()=>{new i().fetchData().then(t=>{e(t)}).catch(t=>{s(t.message)})},[]),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"bg-green-500",children:"Welcome to the Next.js SDK Example"}),r?(0,n.jsxs)("p",{children:["Error: ",r]}):t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("pre",{children:JSON.stringify(t,null,2)}),(0,n.jsxs)("h1",{children:[" sdf ",t.web.p.about.fullname]}),(0,n.jsx)("div",{className:" w-44 h-44",children:(0,n.jsx)("img",{src:t.web.p.about.profile,alt:"Cropped",className:"  object-cover rounded-full "})}),(0,n.jsx)("img",{href:t.web.p.about.profile})]}):(0,n.jsx)("p",{children:"Loading..."}),(0,n.jsx)("button",{id:"loginBtn",children:"Login to Panel"}),(0,n.jsx)("button",{id:"supportBtn",children:"Support"})]})}}},function(t){t.O(0,[971,23,744],function(){return t(t.s=5628)}),_N_E=t.O()}]);